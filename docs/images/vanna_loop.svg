<svg xmlns="http://www.w3.org/2000/svg" width="900" height="360" viewBox="0 0 900 360">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <rect x="40" y="60" width="130" height="32" fill="#fff" stroke="#333"/>
  <text x="50" y="81" font-family="Arial" font-size="12" fill="#333">Question</text>

  <rect x="200" y="60" width="150" height="32" fill="#fff" stroke="#333"/>
  <text x="210" y="81" font-family="Arial" font-size="12" fill="#333">Vanna prompt</text>

  <rect x="380" y="60" width="120" height="32" fill="#fff" stroke="#333"/>
  <text x="390" y="81" font-family="Arial" font-size="12" fill="#333">LLM</text>

  <rect x="530" y="60" width="110" height="32" fill="#fff" stroke="#333"/>
  <text x="540" y="81" font-family="Arial" font-size="12" fill="#333">SQL</text>

  <rect x="670" y="60" width="160" height="32" fill="#fff" stroke="#333"/>
  <text x="680" y="81" font-family="Arial" font-size="12" fill="#333">DuckDB query</text>

  <line x1="170" y1="76" x2="200" y2="76" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="350" y1="76" x2="380" y2="76" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="500" y1="76" x2="530" y2="76" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="640" y1="76" x2="670" y2="76" stroke="#333" marker-end="url(#arrow)"/>

  <rect x="670" y="115" width="160" height="32" fill="#fff" stroke="#333"/>
  <text x="680" y="136" font-family="Arial" font-size="12" fill="#333">Results</text>
  <line x1="750" y1="92" x2="750" y2="115" stroke="#333" marker-end="url(#arrow)"/>

  <rect x="650" y="170" width="200" height="32" fill="#fff" stroke="#333"/>
  <text x="660" y="191" font-family="Arial" font-size="12" fill="#333">User validates results</text>
  <line x1="750" y1="147" x2="750" y2="170" stroke="#333" marker-end="url(#arrow)"/>

  <rect x="650" y="220" width="200" height="32" fill="#e8f6e8" stroke="#333"/>
  <text x="660" y="241" font-family="Arial" font-size="12" fill="#333">Yes: return answer</text>
  <line x1="750" y1="202" x2="750" y2="220" stroke="#333" marker-end="url(#arrow)"/>

  <rect x="360" y="220" width="240" height="32" fill="#fff" stroke="#333"/>
  <text x="370" y="241" font-family="Arial" font-size="12" fill="#333">No: correct SQL + add training</text>
  <line x1="650" y1="186" x2="600" y2="220" stroke="#333" marker-end="url(#arrow)"/>
  <text x="620" y="198" font-family="Arial" font-size="11" fill="#333">No</text>

  <rect x="60" y="260" width="230" height="32" fill="#fff" stroke="#333"/>
  <text x="70" y="281" font-family="Arial" font-size="12" fill="#333">Training data + Chroma</text>
  <line x1="360" y1="236" x2="290" y2="260" stroke="#333" marker-end="url(#arrow)"/>

  <line x1="175" y1="260" x2="235" y2="92" stroke="#333" marker-end="url(#arrow)"/>
  <text x="190" y="160" font-family="Arial" font-size="11" fill="#333">feedback loop</text>
</svg>
